\subsection{Model-View-Controller}
\label{subsec:mvc}
3-lag arkitekturen minder meget om Model-View-Controller mønstret, som vi benytter og har kort beskrevet i \secref{subsec:mvc}. Dog skal det nævnes, at de ikke er helt ens. I en 3-lags komponentarkitektur er det ikke muligt for præsentationslaget at tilgå modellen. MVC-mønstøret er mere trekantet idet, at views kan tilgå både funktionskomponenten og modelkomponenten og dermed blive opdateret direkte fra modellen\cite{designpatterns}. MVC-arkitekturen kan ses i \figref{fig:komponenter}. Der findes mange forskellige frameworks, der bygger på MVC-arkitekturen. Fordelen er ved at benytte et eksisterende og anerkendt framework, er dets mange funktioner og brugervenlighed, der gør det muligt at hurtigt kunne implementere de nødvendige dele af systemet.

Arkitekturen består af tre hovedkomponenter: model, view og controller. Modelkomponenten bærer de data, som typisk er repræsenteret som tabeller i en database, der skal kunne manipuleres. Controllerkomponenten fungerer som et slags bindeled mellem modellen og views ved at sende forespørgsler til modellen eller views, alt afhængig af brugerinputtet fra de tilsluttede views. Derudover sender controlleren også forespørgsler i form af tilstandsændringer til modellen, hvis brugeren \fx opdaterer noget i et view. Et view præsenterer brugeren for data i modellen og muliggør ændringer i tilstanden af modellen.

Vi benytter også klient-server arkitekturmønstret, se \figref{railsmvc} der er oplagt, netop fordi vores model består af rigtig mange opskrifter. Det vil være upraktisk at overføre alle opskrifterne til hver eneste bruger, der benytter systemet, da det vil give en stor belastning på systemet og stor ventetid for brugeren. Vi lader derfor webbrowserkomponenten fungere som klient og tilkobler sig serveren under for at sende forespørgsler. Det er controller-komponenten, der sørger for at sende data frem og tilbage mellem klienten og server. Der er altså kun én server, som integrerer med mange forskellige klienter igennem et netværk og deler fælles ressourcer med alle de klienter, der er tilkoblet. Serverkomponenten stiller diverse funktioner tilgængelig for klienterne, \fx at muliggøre søgning eller lagring af oplysninger i modelkomponenten. Serveren, i dette tilfælde, og i modsætning til klient-servermønstret beskrevet i OOA\&D\cite{ooad}, kan godt kende noget til/om klienten. \Fx er det muligt, at vise andre views, alt afhængigt af hvilken webbrowser, der bliver tilkoblet serverkomponenten.

\pdffig[0.7]{railsMVC}{Et tilpasset generiske Model-View-Controller mønster indkapslet i et klient-server arkitekturmønster\cite{railsmvc}.}{fig:railsmvc}
